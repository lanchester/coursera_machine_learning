## 確率的最急降下法の収束

### 収束チェック

<img width="963" alt="2016-10-25 18 36 46" src="https://cloud.githubusercontent.com/assets/6447085/19680774/01161096-9ae2-11e6-9a0a-68904a349790.png">

バッチ最急降下法では収束チェックのために誤差の値をプロットしていた。確率的最急降下法では各イテレーションで $\theta$ のアップデートの前にその手本との誤差を計算し、1000イテレーション毎の平均をプロットしていくことで収束チェックをする。

### 収束チェック

<img width="962" alt="2016-10-25 18 37 30" src="https://cloud.githubusercontent.com/assets/6447085/19680834/1d973362-9ae2-11e6-8e9e-a1c8395b5c14.png">

確率的最急降下法の結果をプロットすると、収束している場合はギザギザの線で少しずつ誤差が減っていきそのうち同じ領域にとどまる。学習率を小さくするとゆっくりと収束し、解は少しだけ良くなる。平均を1000から5000にすればグラフはスムーズになる。平坦なまま下がらなければ学習は上手く行っておらず、誤差が増えていくなら学習率 $\alpha$ を下げる。

### 確率的最急降下法

<img width="961" alt="2016-10-25 18 39 14" src="https://cloud.githubusercontent.com/assets/6447085/19680909/5bf30da2-9ae2-11e6-96a4-3055db191a3c.png">

基本的に学習率 $\alpha$ は一定にしておくがグローバル最小がほしい場合は時間がたつにつれ $\alpha$ を下げていく。
